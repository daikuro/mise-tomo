import"../chunks/DsnmJJEf.js";import{d as He,p as Ie,s as n,k as Fe,f as Z,i as o,c as t,h as a,t as we,e as Te,g as e,a as X,b as We,n as ke,r,j as Y,l as Ve}from"../chunks/B9G1ZdG6.js";import{i as Pe}from"../chunks/nszvv3va.js";import{r as y,s as Ne,a as Je,b as Ke}from"../chunks/j2jMjjYa.js";import{b as g}from"../chunks/C7iJx5JN.js";import{s as Oe,a as Qe}from"../chunks/WQTESPAT.js";import{G as Se,s as Xe,a as je,c as Ae,d as $e,e as Be,f as Ye,u as Ze}from"../chunks/quTv0IwE.js";import{g as Me}from"../chunks/DU25-fHU.js";import{p as ea}from"../chunks/DY1wK8XI.js";import{B as aa}from"../chunks/DcA2T2Mn.js";import{B as ze}from"../chunks/DmKaB3Lt.js";import{U as ta}from"../chunks/BxbDESPL.js";import{M as ra,L as Ce,C as oa}from"../chunks/Cwj0YWVz.js";async function sa(N,p,z,C,$){o(p,!0),o(z,"");try{const f=new Se,c=(await Xe(je,f)).user,v={uid:c.uid,email:c.email,displayName:c.displayName||"ユーザー",photoURL:c.photoURL,role:e(C),createdAt:new Date,updatedAt:new Date};e(C)==="employer"?v.employerProfile={companyName:"",industry:"",location:"",description:""}:v.seekerProfile={skills:[],experience:"",preferredLocations:[],availability:"いつでも可能"},await Ae($e(Be,"users",c.uid),v),Me("/")}catch(f){o(z,$(f.code),!0)}finally{o(p,!1)}}var la=(N,p)=>o(p,"jobseeker"),ia=(N,p)=>o(p,"employer"),da=Z('<div class="rounded-md bg-red-50 p-4"><div class="flex"><!> <div class="ml-3"><p class="text-sm text-red-800"> </p></div></div></div>'),na=Z('<div><label for="companyName" class="block text-sm font-medium text-gray-700">会社名</label> <div class="mt-1 relative"><!> <input id="companyName" name="companyName" type="text" required class="appearance-none relative block w-full px-10 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm" placeholder="会社名"/></div></div> <div><label for="industry" class="block text-sm font-medium text-gray-700">業種</label> <select id="industry" class="mt-1 block w-full px-3 py-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"><option>選択してください</option><option>飲食</option><option>小売</option><option>サービス</option><option>製造</option><option>IT</option><option>その他</option></select></div> <div><label for="location" class="block text-sm font-medium text-gray-700">所在地</label> <input id="location" name="location" type="text" class="mt-1 appearance-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm" placeholder="例: 東京都渋谷区"/></div>',1),ca=Z('<div class="min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"><div class="max-w-md w-full space-y-8"><div><h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900">新規アカウント作成</h2> <p class="mt-2 text-center text-sm text-gray-600">または <a href="/auth/login" class="font-medium text-blue-600 hover:text-blue-500">既存のアカウントでログイン</a></p></div> <div class="flex justify-center space-x-4"><button><!> 求職者として登録</button> <button><!> 雇用主として登録</button></div> <form class="mt-8 space-y-6"><!> <div class="space-y-4"><div><label for="displayName" class="block text-sm font-medium text-gray-700"> </label> <div class="mt-1 relative"><!> <input id="displayName" name="displayName" type="text" required class="appearance-none relative block w-full px-10 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm"/></div></div> <!> <div><label for="email" class="block text-sm font-medium text-gray-700">メールアドレス</label> <div class="mt-1 relative"><!> <input id="email" name="email" type="email" autocomplete="email" required class="appearance-none relative block w-full px-10 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm" placeholder="メールアドレス"/></div></div> <div><label for="password" class="block text-sm font-medium text-gray-700">パスワード</label> <div class="mt-1 relative"><!> <input id="password" name="password" type="password" autocomplete="new-password" required class="appearance-none relative block w-full px-10 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm" placeholder="パスワード（6文字以上）"/></div></div> <div><label for="confirmPassword" class="block text-sm font-medium text-gray-700">パスワード（確認）</label> <div class="mt-1 relative"><!> <input id="confirmPassword" name="confirmPassword" type="password" autocomplete="new-password" required class="appearance-none relative block w-full px-10 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm" placeholder="パスワード（確認）"/></div></div></div> <div><button type="submit" class="group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"> </button></div> <div class="mt-6"><div class="relative"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-300"></div></div> <div class="relative flex justify-center text-sm"><span class="px-2 bg-gray-50 text-gray-500">または</span></div></div> <div class="mt-6"><button type="button" class="w-full flex justify-center items-center px-4 py-3 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"><svg class="w-5 h-5 mr-2" viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"></path><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"></path><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"></path><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"></path></svg> Googleで登録</button></div></div></form></div></div>');function Pa(N,p){Ie(p,!0);const[z,C]=Qe(),$=()=>Oe(ea,"$page",z);let f=n(""),b=n(""),c=n(""),v=n(""),l=n(Fe($().url.searchParams.get("role")||"jobseeker")),m=n(""),u=n(!1),j=n(""),B=n(""),M=n("");async function De(){if(o(u,!0),o(m,""),e(b)!==e(c)){o(m,"パスワードが一致しません"),o(u,!1);return}if(e(b).length<6){o(m,"パスワードは6文字以上である必要があります"),o(u,!1);return}if(e(l)==="employer"&&!e(j)){o(m,"会社名を入力してください"),o(u,!1);return}try{const i=(await Ye(je,e(f),e(b))).user;await Ze(i,{displayName:e(v)});const d={uid:i.uid,email:i.email,displayName:e(v),role:e(l),createdAt:new Date,updatedAt:new Date};e(l)==="employer"?d.employerProfile={companyName:e(j),industry:e(B),location:e(M),description:""}:d.seekerProfile={skills:[],experience:"",preferredLocations:[],availability:"いつでも可能"},await Ae($e(Be,"users",i.uid),d),Me("/")}catch(s){o(m,ee(s.code),!0)}finally{o(u,!1)}}function ee(s){switch(s){case"auth/email-already-in-use":return"このメールアドレスは既に使用されています";case"auth/invalid-email":return"メールアドレスの形式が正しくありません";case"auth/weak-password":return"パスワードが弱すぎます";default:return"登録に失敗しました。もう一度お試しください"}}var D=ca(),ae=t(D),L=a(t(ae),2),x=t(L);x.__click=[la,l];var Le=t(x);aa(Le,{class:"inline-block mr-2 h-4 w-4"}),ke(),r(x);var A=a(x,2);A.__click=[ia,l];var qe=t(A);ze(qe,{class:"inline-block mr-2 h-4 w-4"}),ke(),r(A),r(L);var q=a(L,2),te=t(q);{var Ue=s=>{var i=da(),d=t(i),_=t(d);oa(_,{class:"h-5 w-5 text-red-400"});var h=a(_,2),w=t(h),k=t(w,!0);r(w),r(h),r(d),r(i),we(()=>Y(k,e(m))),X(s,i)};Pe(te,s=>{e(m)&&s(Ue)})}var U=a(te,2),E=t(U),G=t(E),Ee=t(G,!0);r(G);var re=a(G,2),oe=t(re);ta(oe,{class:"absolute left-3 top-3 h-5 w-5 text-gray-400"});var R=a(oe,2);y(R),r(re),r(E);var se=a(E,2);{var Ge=s=>{var i=na(),d=Ve(i),_=a(t(d),2),h=t(_);ze(h,{class:"absolute left-3 top-3 h-5 w-5 text-gray-400"});var w=a(h,2);y(w),r(_),r(d);var k=a(d,2),W=a(t(k),2),V=t(W);V.value=V.__value="";var J=a(V);J.value=J.__value="飲食";var K=a(J);K.value=K.__value="小売";var O=a(K);O.value=O.__value="サービス";var Q=a(O);Q.value=Q.__value="製造";var S=a(Q);S.value=S.__value="IT";var xe=a(S);xe.value=xe.__value="その他",r(W),r(k);var _e=a(k,2),he=a(t(_e),2);y(he),r(_e),g(w,()=>e(j),P=>o(j,P)),Ke(W,()=>e(B),P=>o(B,P)),g(he,()=>e(M),P=>o(M,P)),X(s,i)};Pe(se,s=>{e(l)==="employer"&&s(Ge)})}var H=a(se,2),le=a(t(H),2),ie=t(le);ra(ie,{class:"absolute left-3 top-3 h-5 w-5 text-gray-400"});var de=a(ie,2);y(de),r(le),r(H);var I=a(H,2),ne=a(t(I),2),ce=t(ne);Ce(ce,{class:"absolute left-3 top-3 h-5 w-5 text-gray-400"});var ue=a(ce,2);y(ue),r(ne),r(I);var pe=a(I,2),ve=a(t(pe),2),me=t(ve);Ce(me,{class:"absolute left-3 top-3 h-5 w-5 text-gray-400"});var fe=a(me,2);y(fe),r(ve),r(pe),r(U);var F=a(U,2),T=t(F),Re=t(T,!0);r(T),r(F);var be=a(F,2),ye=a(t(be),2),ge=t(ye);ge.__click=[sa,u,m,l,ee],r(ye),r(be),r(q),r(ae),r(D),we(()=>{Ne(x,1,`px-4 py-2 rounded-lg font-medium transition-colors ${e(l)==="jobseeker"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`),Ne(A,1,`px-4 py-2 rounded-lg font-medium transition-colors ${e(l)==="employer"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`),Y(Ee,e(l)==="employer"?"担当者名":"お名前"),Je(R,"placeholder",e(l)==="employer"?"担当者名":"お名前"),T.disabled=e(u),Y(Re,e(u)?"登録中...":"アカウント作成"),ge.disabled=e(u)}),Te("submit",q,s=>{s.preventDefault(),De()}),g(R,()=>e(v),s=>o(v,s)),g(de,()=>e(f),s=>o(f,s)),g(ue,()=>e(b),s=>o(b,s)),g(fe,()=>e(c),s=>o(c,s)),X(N,D),We(),C()}He(["click"]);export{Pa as component};
